   195→      // ShapeRef signals are not evaluated as numeric values.
   196→      // The ScheduleExecutor handles shape2d record writes directly.
   197→      // Return 0 as a safe numeric fallback if this is ever called.
   198→      return 0;
   199→    }
   200→
   201→    case 'reduce_field': {
   202→      // Field reduction is handled during step execution (materialization needed)
   203→      // This case should not be reached during signal evaluation
   204→      // Return 0 as placeholder (actual work done in executor)
   205→      return 0;
   206→    }
   207→
   208→    case 'eventRead': {
   209→      // Read event scalar as float: 0 → 0.0, 1 → 1.0 (spec §9.2)
   210→      return state.eventScalars[expr.eventSlot as number] ?? 0;
   211→    }
   212→
   213→    default: {
   214→      const _exhaustive: never = expr;
   215→      throw new Error(`Unknown signal expr kind: ${(_exhaustive as SigExpr).kind}`);
   216→    }
   217→  }
   218→}
   219→
   220→/**
   221→ * Apply a pure function to values
   222→ */
   223→function applyPureFn(
   224→  fn: PureFn,

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
